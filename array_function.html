<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>review</title>
	</head>
	<body>
		<script>
			var arr = [];
			var arr = new Array();

			//查找某一位
			console.log(arr[0]);//undefined
			arr = [1, 2, 3];
			console.log(arr[0]);
			arr = [1, , 1];
			console.log(arr[1]);//undefined

			//数组长度
			console.log(arr.length);
			arr.length = arr.length - 1;
			console.log(arr.length);

			//查找某一值在数组的哪一位
			console.log(arr.indexOf(1));//如果indexOf无参数或参数为undefined则返回-1 如果找到参数则返回对应下标  字符串也有此方法
			arr = [1, 2, 3, 2, 1];
			console.log(arr.indexOf(2));//返回第一个查到的下标
			console.log(arr.lastIndexOf(2))//最后一个

			//在数组后新增一位,改变原数组
			console.log(arr.push(6));
			console.log(arr);

			//数组拼接
			console.log(arr.concat([1, 233]));
			console.log(arr);

			//删掉数组最后一位，并且修改原数组
			console.log(arr.pop());//反会被删掉的那一位
			console.log(arr);

			//删掉数组第一维，原数组被改变
			console.log(arr.shift());//返回被删掉的那一位
			console.log(arr);
			console.log("----------");

			//修改数组，第一个参数为起始下标，第二个参数为从起始位修改的数组长度，第三个参数起为该改成什么样的内容,
			console.log(arr.splice(1, 3, 3, 8, 5, 6, 8));//返回被修改的数组集合
			console.log(arr);

			//遍历数组
			var arr = [2, 3, 3, 6, 6, 6];
			for(var i = 0;i < arr.length;i++){
				console.log(arr[i]);
			}

			//forEach遍历
			arr.forEach(function(list, index, arr){
				console.log(list, index, arr);
			});

			var arr = [4, 5, 3, 2, 9, 0];
			arr.forEach(function(list){
				console.log(Math.sqrt(list));
			});
			arr.forEach(function(list,index){
				console.log(Math.pow(list - index,2));
			});

			//回调 forEach 原理（不完全版）低的IE浏览器不支持
			function forEach(arr, callback){
				var i = 0;
				for(; i < arr.length; i++){
					callback(arr[i], i, arr);
				}
			}
			forEach(arr, function(list, index, arr){
				console.log(list, index, arr);
			});

			var a = 10;
			function aaa(a, aa){
				aa(a + 10, a - 5,a * a);
			}
			aaa(a, function(b, bb, bbb){
				console.log(b, bb, bbb);
			});

			//map遍历,返回值为处理后的数组
			arr.map(function(list, index, arr){
				console.log(list, index, arr);
			});
			console.log(arr.map(function(list, index, arr){
				
				return Math.sqrt(list);
			}));
			console.log(arr);

			//数组map原理（不完全版）
			// function _map(arr, callback){
			// 	var _arr = [];
			// 	// console.log(arr, callback);
			// 	var i = 0;
			// 	for(; i < arr.length; i++){
			// 		_arr.push(callback(arr[i], i, arr));

			// 	}
			// 	console.log(_arr);
			// 	return _arr;
			// }
			// console.log(_map(arr, function(list, index, arr){
			// 	return index + 1 + "," + (list + 1) + "," + arr.pop();
			// }));

			function _forEach(arr, callback){
				var a = [];
				for(var i = 0;i < arr.length;i++){
					a.push(callback(arr[i], i, arr));
				}
				return a
			}
			console.log(_forEach(arr, function(list, index, arr){
				return list;
			}));
			//filter筛选，返回值为处理后的数组
			console.log(arr.filter(function(list, index, arr){
				return index > 3;
			}));

			//filter筛选原理（不完全版）
			function _filter(arr, callback){
				var _arr = [];
				for(var i = 0;i < arr.length;i++){
					// if(callback(arr[i], i, arr)){
					// 	_arr.push(arr[i]);
					// }
					callback(arr[i], i, arr) && _arr.push(arr[i]);
				}
				return _arr;
			}
			console.log(_filter(arr, function(list, index, arr){
				return list > 3;
			}));

			//find查找，返回值为首个查找到的元素
			console.log(arr.find(function(list, index, arr){
				return index < 2;
			}));	

			//find原理（不完全版）
			function _find(arr, callback){
				for(var i = 0;i < arr.length;i++){
					if(callback(arr[i], i, arr)){
						return arr[i];
					} 
				}
			}
			console.log(_find(arr, function(list, index, arr){
				return index > 4;
			}));

			//findIndex查找下标,返回值为首个查找到的元素的下标，否则返回-1
			console.log(arr.findIndex(function(list, index, arr){
				return list === 4;
			}))

			//findIndex原理（不完全版）
			console.log(arr);
			function _findIndex(arr, callback){
				for(var i = 0;i < arr.length;i++){
					if(callback(arr[i], i, arr)){
						return i;
					}
				}
				return -1;
			}
			console.log(_findIndex(arr, function(list, index, arr){
				return list === 0;
			}));
		</script>
	</body>
</html>